<html>
<head>
<title> Cadastro com Validação </title>
<script>
function IsNum(v)

{
   var ValidChars = "0123456789";
   var IsNumber=true;
   var Char;

 
   for (i = 0; i < v.length && IsNumber == true; i++) 
      { 
      Char = v.charAt(i); 
      if (ValidChars.indexOf(Char) == -1) 
         {
         IsNumber = false;
         }
      }
   return IsNumber;
   
}

function valida(form) {
if (form.nome.value=="") {
alert("Preencha o nome corretamente.");
//document.getElementById("mensagem").innerHTML="mensagem";
form.nome.focus();
form.nome.style.border="1px solid red";
return false;
}
var filtro_mail = /^.+@.+\..{2,3}$/
if (!filtro_mail.test(form.email.value) || form.email.value=="") {
alert("Preencha o e-mail corretamente.");
form.email.focus();
return false;
}

if (form.idade.value=="" || !IsNum(form.idade.value)) {
alert("Preencha a idade corretamente.");
form.idade.focus();
return false;
}

if (form.endereco.value=="" || form.endereco.value.length < 8) {
alert("Preencha o endereço corretamente.");
form.endereco.focus();
return false;
}

if (form.tel.value=="") {
alert("Preencha o telefone corretamente.");
form.tel.focus();
return false;
}

if (form.data_nascimento.value=="" || form.data_nascimento.value.length != 10) {
alert("Preencha a data de nascimento corretamente.");
form.data_nascimento.focus();
return false;
}

if (form.senha.value=="" || form.senha.value.length < 6) {
alert("Preencha a senha corretamente.");
form.senha.focus();
return false;
}

if (form.conf_senha.value=="" || form.conf_senha.value.length < 6) {
alert("Preencha a confirmação de senha corretamente.");
form.conf_senha.focus();
return false;
}

if (form.senha.value!=form.conf_senha.value) {
alert("A senha e a confirmação tem de ser iguais.");
form.conf_senha.focus();
return false;
}

if (form.sexo[0].checked==false && form.sexo[1].checked==false) {
alert("Selecione o sexo.");
return false;
}
}

function telefone(f) {
if (f.tel.value.length<9 || f.tel.value.length>11) {
alert("Preencha o telefone corretamente.");
f.tel.focus();
}else{
ddd = f.tel.value.substring(0,2);
if (f.tel.value.length==9) {
part1 = f.tel.value.substring(2,5);
part2 = f.tel.value.substring(5,9);
}
if (f.tel.value.length==10) {
part1 = f.tel.value.substring(2,6);
part2 = f.tel.value.substring(6,10);
}
f.tel.value = "("+ddd+") "+part1+"-"+part2
}
}
</script>
</head>
<body>
<form onsubmit="return valida(this);">
Nome: <input type="text" name="nome"><br><br>
E-mail: <input type="text" name="email"><br><br>
Idade: <input type="text" name="idade" maxlength="2" size="2"><br><br>
Endereço: <input type="text" name="endereco"><br><br>
Telefone: <input type="text" name="tel" onblur="telefone(this.form);" maxlength="10"> (Formato: DDD+TELEFONE: 1122223333)<br><br>
Data de Nascimento: <input type="text" name="data_nascimento" value="dd/mm/aaaa" maxlength="10" onfocus="if (this.value=='dd/mm/aaaa'){this.value='';}" onblur="if (this.value==''){this.value='dd/mm/aaaa';}"><br><br>
Senha: <input type="password" name="senha"> (Mínimo: 6 caracteres)<br><br>
Confirmação de Senha: <input type="password" name="conf_senha"><br><br>
Sexo: <input type="radio" name="sexo" value="masc"> Masculino  <input type="radio" name="sexo" value="fem"> Feminino<br><br>
<input type="submit" value="Enviar">
</form>
</body>
</html>
